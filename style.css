* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Poppins, Arial, sans-serif;
  background: radial-gradient(1200px 600px at 50% 0%, #1a1a2e, #0b0b15 50%, #000 100%);
  color: #fff;
  overflow-x: hidden;
}
.screen { min-height: 100vh; display: grid; place-items: center; padding: 24px; }
.hidden { display: none; }

.timer-card {
  width: min(680px, 94vw);
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 24px;
  padding: 32px;
  text-align: center;
  backdrop-filter: blur(8px);
  box-shadow: 0 10px 40px rgba(0,0,0,0.4);
}
.timer { font-size: clamp(28px, 7vw, 56px); font-weight: 700; margin: 8px 0 16px; letter-spacing: 2px; }
.set-row { display:flex; gap:12px; justify-content:center; align-items:center; flex-wrap: wrap; }
.set-row input, .set-row button {
  padding: 10px 14px; border-radius: 12px;
  background: rgba(255,255,255,0.08); color: #fff;
  border: 1px solid rgba(255,255,255,0.12);
}
.set-row button { cursor: pointer; }
.hint { opacity: .8; font-size: 14px; }

.hero {
  width: min(1600px, 92vw);
  margin: 40px auto 0;
  display: grid;
  grid-template-columns: 3fr 1fr;
  grid-template-rows: auto auto;
  gap: clamp(16px, 3vw, 32px);
  align-items: center;
  position: relative;
  z-index: 1;
}
@media (max-width: 900px) { .hero { grid-template-columns: 1fr; } }
.profile-pic {
  position: relative;
  display: flex;
  width: 100%;
  max-width: 420px;
  border-radius: 24px;
  border: 2px solid rgba(255,255,255,0.15);
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
  animation: riseIn .9s ease both;
}
@keyframes riseIn { from { transform: translateY(20px); opacity: 0;} to { transform: translateY(0); opacity: 1;} }

/* Candle Text (same as before) */
.candle-text { font-size: clamp(28px, 6vw, 64px); font-weight: 800; display:flex; flex-wrap: wrap; gap: 8px; line-height:1.1; margin:0 0 16px; }
.candle-text .spacer { width: 20px; }
.candle-text {margin-top: 10PX;}
.candle-text span { position: relative; display:inline-block; padding:8px 10px 14px; background: linear-gradient(#ff9f1a, #ff6a00); color:#220500; border-radius:6px; text-shadow: 0 1px 0 rgba(255,255,255,0.5); box-shadow: inset 0 -6px 0 rgba(0,0,0,0.2); }
.candle-text span::after { content:""; position:absolute; top:-16px; left:50%; width:2px; height:12px; background:#333; transform: translateX(-50%); border-radius:1px; }
.candle-text span::before { content:""; position:absolute; top:-34px; left:50%; width:14px; height:22px; transform: translateX(-50%) rotate(6deg); background: radial-gradient(ellipse at 50% 60%, #fff8c7 0%, #ffda5a 40%, #ff9300 70%, rgba(255,147,0,0) 72%); filter: blur(.2px); border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; animation: flicker 1.2s infinite ease-in-out alternate; box-shadow: 0 0 8px #ffcf58, 0 0 18px rgba(255,150,10,.6), 0 0 32px rgba(255,120,0,.35); }
@keyframes flicker { 0%{ transform: translateX(-50%) translateY(0) rotate(6deg) scale(1); opacity:.95;} 40%{ transform: translateX(calc(-50% + 1px)) translateY(-1px) rotate(4deg) scale(1.02);} 60%{ transform: translateX(calc(-50% - 1px)) translateY(1px) rotate(8deg) scale(.98); opacity:.9;} 100%{ transform: translateX(-50%) translateY(-2px) rotate(5deg) scale(1.03); opacity:.97;} }

/* CSS Envelope */
.envelope { position: relative; top: 50px;   /* change absolute â†’ relative */
  width: min(520px, 90%); 
  height: 320px; 
  margin: 16px 18px; }
/*.env-back, .env-front { position:absolute; inset:0; border-radius: 12px; }
.env-back { background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); border:1px solid rgba(255,255,255,.15); }
.env-front {
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
  border:1px solid rgba(255,255,255,.2);
  clip-path: polygon(0 40%, 50% 0, 100% 40%, 100% 100%, 0 100%);
  box-shadow: inset 0 0 24px rgba(255,255,255,.06);
}
.letter-paper {
  position:absolute; left:50%; transform: translateX(-50%);
  width: 92%; height: 78%; background: #fff; top: 60%;
  border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,.4);
  animation: letterUp 2.6s 0.8s cubic-bezier(.22,1,.36,1) forwards;
}
.letter-lines { padding: 18px; }
.letter-lines div { height: 10px; background: #eaeaea; border-radius: 6px; margin: 10px 0; }
@keyframes letterUp { from { top: 60%; } to { top: 14%; } }   */

.photo-box{
  position: relative; right:15px; top:9px;  /* change absolute â†’ relative */
  width: 100%;          /* responsive */
  max-width: 400px;     /* cap size */
  height: auto;
  aspect-ratio: 4 / 3;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  background: #222;     /* ya apna color */
  color: #f4f4f4;
  border-radius: 24px;
  box-shadow: 0 0 60px 0 #101616, 0 0 10px #513232 inset;
  font-size: 1.3rem;
  z-index: 10;
}
.photo-box {
  position: relative;
  width: 420px;
  /* Jo upar diya uske andar */
  box-shadow:
    0 0 14px 2px #79787e,    /* neon blue glow */
    0 0 10px 4px #19292a,     /* broader glow */
    0 0 10px 2px #fff inset;   /* thoda sa inner glow */
}


/* Cake */
.cake-wrap { text-align: center; margin: 24px auto 8px; }
.cake { position: relative; width: 360px; height: 280px; margin: 0 auto; cursor: pointer; }
.plate { position:absolute; bottom:0; left:50%; transform:translateX(-50%); width: 380px; height: 28px; background: radial-gradient(circle at 50% 0, #ccc, #9aa); border-radius: 20px; filter: blur(.2px); }
.layer { position:absolute; left:50%; transform: translateX(-50%); background: #7a3e2e; border-radius: 14px; box-shadow: inset 0 -10px rgba(0,0,0,.2); }
.layer-bottom { width: 340px; height: 90px; bottom: 28px; }
.layer-middle { width: 300px; height: 78px; bottom: 100px; }
.layer-top    { width: 260px; height: 66px; bottom: 170px; }

.cream { position:absolute; background: #ffd1dc; border-radius: 14px; box-shadow: inset 0 -6px rgba(0,0,0,.15); }
.drip1 { width: 320px; height: 20px; bottom: 178px; left:50%; transform: translateX(-50%); }
.drip2 { width: 360px; height: 22px; bottom: 108px; left:50%; transform: translateX(-50%); }
.drip3 { width: 400px; height: 24px; bottom: 36px; left:50%; transform: translateX(-50%); }

.candle { position:absolute; bottom: 214px; width: 24px; height: 48px; background: #4a90e2; border-radius: 6px; box-shadow: inset 0 -6px rgba(0,0,0,.25); display: grid; place-items: center; }
.candle span { font-weight: 800; color: #fff; }
.num1 { left: calc(50% - 20px); }
.num9 { left: calc(50% + 6px); }
.flame { position:absolute; top: -18px; left:50%; width: 12px; height: 18px; transform: translateX(-50%); border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; background: radial-gradient(ellipse at 50% 60%, #fff8c7 0%, #ffda5a 40%, #ff9300 70%, rgba(255,147,0,0) 72%); animation: flicker .9s infinite ease-in-out alternate; box-shadow: 0 0 8px #ffcf58, 0 0 18px rgba(255,150,10,.6); }

/* Cut animation */
.cake.cut .layer-top { animation: sliceLeft .9s forwards; }
.cake.cut .layer-middle { animation: sliceRight 1s .05s forwards; }
.cake.cut .layer-bottom { animation: sliceLeft 1.1s .1s forwards; }
.cake.cut .candle .flame { display:none; }
@keyframes sliceLeft { to { transform: translate(-70%, -8px) rotate(-4deg); opacity: .85; } }
@keyframes sliceRight { to { transform: translate(10%, 6px) rotate(3deg); opacity: .85; } }

.tap { opacity:.85; margin-top:6px; font-size:14px; text-align:center; }

/* Confetti canvas & Balloons */
#confetti { position: fixed; inset: 0; pointer-events:none; z-index:0; }
#balloons { position: fixed; inset: 0; pointer-events:none; z-index:0; }
.balloon { position:absolute; bottom:-80px; width:26px; height:34px; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.8), rgba(255,255,255,0) 40%), var(--clr, #ff4d6d); border-radius: 50% 50% 45% 55% / 55% 45% 55% 45%; box-shadow: inset -6px -10px 12px rgba(0,0,0,.18); animation: floatUp var(--dur, 9s) linear infinite; }
.balloon::after { content:""; position:absolute; bottom:-10px; left:50%; width:2px; height:14px; background: rgba(255,255,255,.7); transform: translateX(-50%); }
@keyframes floatUp { from { transform: translateY(0) translateX(0); opacity:.9; } to { transform: translateY(-110vh) translateX(var(--drift, 0px)); opacity:1; } }

/* Carousel */
.carousel {
  width: min(1000px, 92vw); height: 380px;
  margin: 24px auto 8px; position: relative; perspective: 1000px;
  display: grid; place-items: center;
}
.card {
  position: absolute; width: 58%; max-width: 560px; height: 340px;
  border-radius: 18px; overflow: hidden; border: 1px solid rgba(255,255,255,.12);
  box-shadow: 20px 80px rgb(232, 213, 213);
  display: grid; grid-template-rows: 1fr auto; background: #111;
  transition: transform .8s ease, opacity .8s ease, filter .8s ease;
  border: 3px solid rgba(44, 31, 96, 0.712);
  
}
.card p {
  position: absolute;
  bottom: 8px;
  font-family: cursive;
  left: 50%;
  transform: translateX(-50%);  /* center align */
  text-align: center;
  color: #fff;
  font-size: 16px;
  z-index: 5;
  pointer-events: none;

  /* ðŸ‘‡ text ke peeche box */
  background: rgba(0, 0, 0, 0.623); /* semi-transparent */
  padding: 2px 6px;              /* text ke around spacing */
  border-radius: 4px;
  display: inline-block;          /* sirf text ke width ke hisaab se */
  white-space: nowrap;            /* line wrap na ho */
}
.card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: relative;
  z-index: 1;              /* image peeche rahe */
}


/* Positions for center & neighbors */
.pos-center { transform: translateX(0) translateZ(120px) scale(1); z-index: 3; filter: none; opacity: 1; }
.pos-left   { transform: translateX(-42%) translateZ(0) rotateY(6deg) scale(.78); z-index: 2; filter: blur(1px) brightness(.9); opacity: .85; }
.pos-right  { transform: translateX(42%) translateZ(0) rotateY(-6deg) scale(.78); z-index: 2; filter: blur(1px) brightness(.9); opacity: .85; }
.pos-back   { transform: translateX(0) translateZ(-200px) scale(.6); z-index: 1; opacity: 0; }

.wish { margin: 12px auto 60px; text-align:center; opacity:.95; font-size: clamp(16px, 2.5vw, 20px); }

/* Music button */
.music-btn {
  position: fixed; right: 16px; bottom: 16px;
  border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.08);
  color: #fff; border-radius: 999px; padding: 10px 14px; cursor: pointer; z-index: 10; backdrop-filter: blur(6px);
}
:root{
  --primary: #fff;
  --bg-color: rgb(5, 53, 61);
  --bg-envelope-color: linear-gradient(180deg,rgba(0,0,0,0.8),rgba(0,0,0,.3));
  --envelope-tab: #39342e;
  --envelope-cover: #36332d;
  --shadow-color: rgba(0, 0, 0, 0.2);
  --txt-color: #444;
  --heart-color: rgb(252, 8, 231);
}

.container {
  height: 300px;
  width: 400px;
  display: grid;
  place-items: start end;
  position: relative;
  top: 40px;
}
.container > .envelope-wrapper {
  background: var(--bg-envelope-color);
  box-shadow: 0 0 40px var(--shadow-color);
  position: relative;
  top: 6px;
}
.envelope-wrapper > .envelope {
  position: relative;
  width: 300px;
  height: 230px;
  top: 10px;
}
.envelope-wrapper > .envelope::before {
  content: "";
  position: absolute;
  top: 5;
  z-index: 2;
  border-top: 130px solid var(--envelope-tab);
  border-right: 150px solid transparent;
  border-left: 150px solid transparent;
  transform-origin: top;
  transition: all 0.5s ease-in-out 0.7s;
}
.envelope-wrapper > .envelope::after {
  content: "";
  position: absolute;
  z-index: 2;
  width: 0px;
  height: 0px;
  border-top: 120px solid transparent;
  border-right: 150px solid var(--envelope-cover);
  border-bottom: 120px solid var(--envelope-cover);
  border-left: 150px solid var(--envelope-cover);
}
.envelope > .letter {
  position: absolute;
  right: 20%;
  bottom: 0;
  width: 54%;
  height: 80%;
  background: var(--primary);
  text-align: center;
  transition: all 1s ease-in-out;
  box-shadow: 0 0 5px var(--shadow-color);
  padding: 20px 10px;
}

.envelope > .letter > .text {
  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
  color: var(--txt-color);
  text-align: left;
  font-size: 10px;
}
.heart {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 15px;
  height: 15px;
  background: var(--heart-color);
  z-index: 4;
  transform: translate(-50%, -20%) rotate(45deg);
  transition: transform 0.5s ease-in-out 1s;
  box-shadow: 0 1px 6px var(--shadow-color);
  cursor: pointer;
}
.heart:before, 
.heart:after {
  content: "";
  position: absolute;
  width: 15px;
  height: 15px;
  background-color: var(--heart-color);
  border-radius: 50%;
}
.heart:before {
  top: -7.5px;
}
.heart:after {
  right: 7.5px;
}
.flap > .envelope:before {
  transform: rotateX(180deg);
  z-index: 0;
}
.flap > .envelope > .letter {
  bottom: 100px;
  transform: scale(1.5);
  transition-delay: 1s;
}
.flap > .heart {
  transform: rotate(90deg);
  transition-delay: 0.4s;
}
#selfieImg { width: 100%; height: auto; object-fit: cover; border-radius: 24px; }


/* ===== Camera Overlay & Button ===== */
#overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.9);
  color: #fff;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 3000;
}
#overlay h2 {
  margin-bottom: 20px;
  font-size: 22px;
}
#overlay button {
  padding: 12px 20px;
  border: none;
  border-radius: 8px;
  background: #ff4081;
  color: #fff;
  cursor: pointer;
  font-size: 16px;
}
#overlay button:hover {
  background: #e91e63;
}


/* Polaroid Memory Card */
.polaroid {
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.18);
  padding: 15px 15px 80px;   /* neeche caption space */
  margin: auto;
  transform: rotate(-2deg);
  width: 90%;                /* ðŸ‘ˆ slide ke andar safe fit */
  height: 88%;
  text-align: center;
  position: relative;
  bottom: 1.5%;
  box-sizing: border-box;
}

.polaroid img {
  width: 100%;
  height: 240px;
  border-radius: 8px;
  display: block;
}

.polaroid .caption {
  position: absolute;
  bottom: 4px;
  left: 0;
  right: 0;
  font-family: "Comic Sans MS", "Bradley Hand", cursive;
  font-size: 15px;
  color: #444;
}


.card {
  box-shadow: none;  /* default no shadow */
}

.card.highlight {
  box-shadow: 0 18px 50px rgba(36, 35, 35, 0.5); /* cake click ke baad */
}

@media (max-width: 768px) {
  .hero {
    grid-template-columns: 1fr; /* single column layout */
  }
  .photo-box {
    max-width:150px;
    position: relative;
    aspect-ratio : 3/4;   /*adjust shape*/
  }
  .envelope {
    height: 240px;
  }
  }